<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bali Elite Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; background: #000; color: #fff; }
        .glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .btn-blue { background: #2563eb; box-shadow: 0 10px 20px rgba(37,99,235,0.3); }
        .page { display: none; min-height: 100vh; }
        .active { display: flex; }
    </style>
</head>
<body>
    <div id="app" class="max-w-md mx-auto relative">
        <div id="step-type" class="page active flex-col p-4 gap-4 h-screen">
            <div onclick="showCategory('bike')" class="relative flex-1 rounded-[40px] overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1558981403-c5f9899a28bc?w=800" class="absolute inset-0 w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent flex items-end p-8">
                    <h2 class="text-4xl font-black italic uppercase tracking-tighter">Motorcycles</h2>
                </div>
            </div>
            <div onclick="showCategory('car')" class="relative flex-1 rounded-[40px] overflow-hidden group">
                <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800" class="absolute inset-0 w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent flex items-end p-8">
                    <h2 class="text-4xl font-black italic uppercase tracking-tighter">Premium Cars</h2>
                </div>
            </div>
        </div>

        <div id="step-list" class="page flex-col p-4 bg-[#f8f9fb] text-slate-900 min-h-screen">
            <button onclick="showPage('step-type')" class="mb-6 self-start bg-white p-3 rounded-2xl shadow-md text-blue-600">← Назад</button>
            <div id="items-container" class="space-y-6 pb-20"></div>
        </div>

        <div id="step-details" class="page flex-col bg-white text-slate-900 min-h-screen">
            <div id="details-content"></div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        const GOOGLE_URL = "ТВОЙ_URL_СКРИПТА"; // Вставь сюда свою ссылку

        // БАЗА ДАННЫХ ИЗ ФАЙЛА
        const db = [
    // --- YAMAHA NMAX SERIES ---
    { 
        id: 1, type: 'bike', model: 'Yamaha NMax 2022', 
        prices: { day: 150000, week: 1000000, month: 2500000 },
        img: 'https://images.unsplash.com/photo-1620510625142-b45cbb784397?w=800',
        specs: "155cc, Standard Version",
        desc: { ru: "Надежный и проверенный временем макси-скутер. Модель 2022 года.", en: "Reliable and time-tested maxi-scooter. 2022 model." }
    },
    { 
        id: 2, type: 'bike', model: 'Yamaha NMax 2025/26', 
        prices: { day: 200000, week: 1300000, month: 2700000 },
        img: 'https://images.unsplash.com/photo-1599819811279-d5ad9cccf838?w=800',
        specs: "155cc, ABS / Connected",
        desc: { ru: "Новейшее поколение NMax. Система ABS и подключение к смартфону.", en: "Latest NMax generation. ABS system and smartphone connectivity." }
    },

    // --- YAMAHA XMAX SERIES ---
    { 
        id: 3, type: 'bike', model: 'Yamaha XMax 250 (22-23)', 
        prices: { day: 249000, week: 1900000, month: 3500000 },
        img: 'https://images.unsplash.com/photo-1595304323282-359f427f711f?w=800',
        specs: "250cc, Standard",
        desc: { ru: "Комфортный и мощный скутер для длительных поездок по острову.", en: "Comfortable and powerful scooter for long trips around the island." }
    },
    { 
        id: 4, type: 'bike', model: 'Yamaha XMax 250 (25-26)', 
        prices: { day: 250000, week: 2700000, month: 4200000 },
        img: 'https://images.unsplash.com/photo-1558981403-c5f9899a28bc?w=800',
        specs: "250cc, Tech Max Edition",
        desc: { ru: "Премиальная версия Tech Max. Лучший комфорт и объем багажника.", en: "Premium Tech Max version. Best comfort and storage capacity." }
    },

    // --- HONDA ADV ---
    { 
        id: 5, type: 'bike', model: 'Honda ADV 160 (22-23)', 
        prices: { day: 200000, week: 1300000, month: 2700000 },
        img: 'https://images.unsplash.com/photo-1631525130029-79017637b789?w=800',
        specs: "160cc, CBS Edition",
        desc: { ru: "Кроссовер-скутер. Отличная подвеска для любых дорог Бали.", en: "Adventure scooter. Great suspension for any Bali roads." }
    },

    // --- FASHION & RETRO BIKES ---
    { 
        id: 6, type: 'bike', model: 'Honda Stylo 160', 
        prices: { day: 150000, week: 1000000, month: 1700000 },
        img: 'https://images.unsplash.com/photo-1591438202812-78d10b784860?w=800',
        specs: "160cc, Retro Modern 2024",
        desc: { ru: "Новинка от Honda. Сочетание ретро-стиля и мощного мотора.", en: "New from Honda. Combination of retro style and powerful engine." }
    },
    { 
        id: 7, type: 'bike', model: 'Honda Scoopy', 
        prices: { day: 150000, week: 1000000, month: 1700000 },
        img: 'https://images.unsplash.com/photo-1616439162388-30113220455e?w=800',
        specs: "110cc, Compact & Lightweight",
        desc: { ru: "Идеальный выбор для девушек и новичков. Очень легкий.", en: "Perfect choice for ladies and beginners. Very lightweight." }
    },
    { 
        id: 8, type: 'bike', model: 'Yamaha Fazzio', 
        prices: { day: 150000, week: 1000000, month: 1700000 },
        img: 'https://images.unsplash.com/photo-1595304323282-359f427f711f?w=800',
        specs: "125cc, Hybrid Technology",
        desc: { ru: "Экономичный гибридный скутер в уникальном стиле.", en: "Economic hybrid scooter with a unique style." }
    },
    { 
        id: 9, type: 'bike', model: 'Vespa Sprint 150 (25-26)', 
        prices: { day: 175000, week: 2500000, month: 2900000 },
        img: 'https://images.unsplash.com/photo-1605335017643-980482da0891?w=800',
        specs: "150cc, Italian Classic",
        desc: { ru: "Символ стиля. Новые модели 2025-2026 годов.", en: "Icon of style. Brand new models for 2025-2026." }
    },

    // --- OTHER BIKES ---
    { 
        id: 10, type: 'bike', model: 'Yamaha Lexi 155', 
        prices: { day: 150000, week: 1000000, month: 1700000 },
        img: 'https://images.unsplash.com/photo-1558981806-ec527fa84c39?w=800',
        specs: "155cc, VVA Engine",
        desc: { ru: "Просторное место для ног и бодрый двигатель.", en: "Spacious legroom and punchy engine." }
    },
    { 
        id: 11, type: 'bike', model: 'Yamaha Aerox 155', 
        prices: { day: 150000, week: 1000000, month: 2500000 },
        img: 'https://images.unsplash.com/photo-1610444583713-3932e6a97067?w=800',
        specs: "155cc, Sporty Look",
        desc: { ru: "Спортивный дизайн и отличная динамика разгона.", en: "Sporty design and excellent acceleration." }
    },
    { 
        id: 12, type: 'bike', model: 'Honda Vario 160', 
        prices: { day: 150000, week: 1000000, month: 1700000 },
        img: 'https://images.unsplash.com/photo-1620510625142-b45cbb784397?w=800',
        specs: "160cc, Agile City Bike",
        desc: { ru: "Быстрый и узкий — лучший выбор для пробок в Чангу.", en: "Fast and narrow — the best choice for Canggu traffic." }
    },
    { 
        id: 13, type: 'bike', model: 'Kawasaki Ninja ZX-25R', 
        prices: { day: 500000, week: 3500000, month: 8000000 },
        img: 'https://images.unsplash.com/photo-1635073908681-3069178309a6?w=800',
        specs: "250cc, 4-Cylinder Sport",
        desc: { ru: "Звук 4-х цилиндров. Мощность и адреналин.", en: "4-cylinder sound. Power and adrenaline." }
    },

    // --- АВТОМОБИЛИ (CARS) ---
    { 
        id: 14, type: 'car', model: 'Suzuki Brio', 
        prices: { day: 300000, week: 1900000, month: 5500000 },
        img: 'https://images.unsplash.com/photo-1590362891175-3066494957e1?w=800',
        specs: "5 seats, Auto, Compact",
        desc: { ru: "Компактный хэтчбек. Легко парковаться везде.", en: "Compact hatchback. Easy to park anywhere." }
    },
    { 
        id: 15, type: 'car', model: 'Mitsubishi Xpander', 
        prices: { day: 650000, week: 3800000, month: 11000000 },
        img: 'https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800',
        specs: "7 seats, Auto, High Ground Clearance",
        desc: { ru: "Идеально для семьи. Очень просторный и комфортный.", en: "Ideal for family. Very spacious and comfortable." }
    }
];

        let state = { category: 'bike', selectedItem: null, startDate: '', endDate: '' };

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            window.scrollTo(0,0);
        }

        function showCategory(cat) {
            state.category = cat;
            const container = document.getElementById('items-container');
            const items = db.filter(v => v.type === cat);
            
            container.innerHTML = items.map(v => `
                <div onclick="showDetails(${v.id})" class="bg-white rounded-[35px] overflow-hidden shadow-lg border border-gray-100 transition-all active:scale-95">
                    <img src="${v.img}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-black">${v.model}</h3>
                        <p class="text-blue-600 font-bold">${v.prices.day.toLocaleString()} IDR / day</p>
                    </div>
                </div>
            `).join('');
            showPage('step-list');
        }

        function showDetails(id) {
            const item = db.find(v => v.id === id);
            state.selectedItem = item;
            const content = document.getElementById('details-content');
            
            content.innerHTML = `
                <div class="relative h-[40vh]">
                    <img src="${item.img}" class="w-full h-full object-cover">
                    <button onclick="showPage('step-list')" class="absolute top-6 left-6 bg-white/80 p-3 rounded-2xl backdrop-blur">←</button>
                </div>
                <div class="p-8 -mt-10 bg-white rounded-t-[40px] relative">
                    <h2 class="text-4xl font-black mb-2">${item.model}</h2>
                    <p class="text-gray-400 font-bold uppercase tracking-widest text-[10px] mb-6">${item.specs}</p>
                    
                    <div class="bg-slate-50 p-6 rounded-3xl mb-8">
                        <p class="text-slate-600 leading-relaxed">${item.desc}</p>
                    </div>

                    <div class="grid grid-cols-3 gap-2 mb-8 text-center">
                        <div class="bg-blue-50 p-4 rounded-2xl">
                            <p class="text-[9px] uppercase font-bold text-blue-400">Day</p>
                            <p class="font-black text-blue-700">${(item.prices.day/1000)}k</p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-2xl">
                            <p class="text-[9px] uppercase font-bold text-blue-400">Week</p>
                            <p class="font-black text-blue-700">${(item.prices.week/1000000).toFixed(1)}M</p>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-2xl">
                            <p class="text-[9px] uppercase font-bold text-blue-400">Month</p>
                            <p class="font-black text-blue-700">${(item.prices.month/1000000).toFixed(1)}M</p>
                        </div>
                    </div>

                    <button onclick="confirmBooking()" class="w-full btn-blue text-white py-5 rounded-3xl font-black uppercase tracking-widest">Забронировать</button>
                </div>
            `;
            showPage('step-details');
        }

        async function confirmBooking() {
            const item = state.selectedItem;
            tg.showConfirm(`Забронировать ${item.model}?`, async (ok) => {
                if(ok) {
                    const order = {
                        user: tg.initDataUnsafe?.user?.username || "Guest",
                        model: item.model,
                        total: item.prices.day,
                        dates: "Check in chat",
                        loc: "Direct"
                    };
                    await fetch(GOOGLE_URL, { method: "POST", mode: "no-cors", body: JSON.stringify(order) });
                    tg.showAlert("✅ Заявка отправлена! Мы свяжемся с вами.");
                    tg.close();
                }
            });
        }
    </script>
</body>
</html>
